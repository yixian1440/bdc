## 问题分析

1. **当前问题**：收件人角色的统计页面中，"我的案件类型统计"和"我的案件处理进度"两个图表都显示相同的收件类型占比，造成重复
2. **根本原因**：两个图表都使用了相同的`statistics.typeData`数据和相同的`TypeChart`组件，导致展示内容完全一致
3. **用户需求**：保留一个收件类型占比图表，为另一个图表添加新的统计维度

## 解决方案

### 1. 前端修改（Statistics.vue）

* **修改文件**：`frontend/src/views/Statistics.vue`

* **修改内容**：

  * 保留"我的案件类型统计"图表（收件类型占比）

  * 将"我的案件处理进度"图表替换为案件状态分布图表

  * 使用不同的数据和图表配置

### 2. 后端支持

* **修改文件**：`backend/routes/modules/statisticsModule.js`

* **添加功能**：

  * 新增`getCaseStatusStatistics`函数，用于统计案件状态分布

  * 支持按收件人ID过滤

  * 返回已完成、处理中、待处理案件的数量

### 3. 数据结构设计

* **案件状态统计数据**：

  ```json
  [
    { "status": "已完成", "count": 10 },
    { "status": "处理中", "count": 5 },
    { "status": "待处理", "count": 3 }
  ]
  ```

### 4. 前端组件调整

* **修改组件**：`frontend/src/views/Statistics/Statistics.vue`

* **更新逻辑**：

  * 在`useStatistics.js`中添加案件状态数据处理

  * 确保两个图表使用不同的数据来源

  * 保持图表样式一致

1. **案件来源分布**

   * 展示案件的来源渠道

   * 如：开发商提交、国资企业提交、其他渠道等

   <br />

## 实施步骤

1. **后端开发**：

   * 实现`getCaseStatusStatistics`函数

   * 更新`getStatisticsHandler`，添加案件状态统计数据

2. **前端开发**：

   * 在`useStatistics.js`中添加案件状态数据处理

   * 修改`Statistics.vue`，替换重复的图表

   * 测试不同角色的统计页面

3. **测试验证**：

   * 验证统计数据准确性

   * 确保图表显示正常

   * 检查不同角色的权限控制

## 预期效果

* 修复了收件类型占比重复的问题

* 提供了更丰富的统计维度

* 改善了用户体验

* 帮助用户更好地了解案件处理情况

* 保持了代码的可维护性和扩展性

## 技术栈

* **前端**：Vue 3 (Composition API)、Element Plus、ECharts

* **后端**：Node.js、Express、MySQL

* **数据处理**：SQL查询、数据聚合

这个方案既解决了当前的重复问题，又提供了有价值的新统计
